# 제어공학에서의 근궤적 분석

## 1. 기본 개념 복습

### 1.1 제어 시스템이란?

제어 시스템은 시스템의 응답이 원하는 사양(참조)을 따르도록 하는 것을 목표로 합니다. 이는 시스템이 참조 입력에 어떻게 응답하는지 분석하는 것을 포함합니다.

```
참조 입력(r(t)) → [제어 시스템] → 출력 응답(y(t))
```

제어 시스템의 응답은 두 부분으로 구성됩니다:
- **과도 상태(Transient State)**: 입력과 무관하게 시스템의 특성에 의해 결정되는 초기 진동
- **정상 상태(Steady State)**: 충분한 시간이 지난 후 도달하는 안정적인 상태

### 1.2 응답의 구성 요소

#### 과도 상태
- 폐루프 전달함수의 극점(pole)에 의해 결정됨
- 시스템의 자연 응답을 나타냄
- 이러한 진동은 안정적인 시스템에서 결국 사라짐

#### 정상 상태
- 시스템의 최종 안정 상태
- 시스템 타입에 의해 결정됨 (개루프 전달함수에서 원점에 있는 극점의 개수)

### 1.3 복소수와 함수

#### 복소수
복소수는 `s = A + jB = Mejθ` 형태를 가지며:
- A는 실수부
- B는 허수부
- M은 크기: `M = √(A² + B²)`
- θ는 위상각: `θ = tan⁻¹(B/A)`

지수 형태 `ejθ`는 크기가 1이며 위상 정보를 제공합니다:
```
ejθ = cos(θ) + j·sin(θ)
```

#### 복소 함수
복소 함수는 복소수를 다른 복소수로 매핑합니다:
```
F(s) = s + a = (A + jB) + a = (a + A) + jB
```

### 1.4 전달함수 분석

일반적인 전달함수:
```
G(s) = (s+z₁)(s+z₂)...(s+zₘ) / (s+p₁)(s+p₂)...(s+pₙ)
```

점 s = A + jB에서 평가할 때:

**G(s)의 크기**:
```
M = (점 s에서 영점까지의 거리의 곱) / (점 s에서 극점까지의 거리의 곱)
```

**G(s)의 위상**:
```
θ = (영점에서 점 s까지의 각도 합) - (극점에서 점 s까지의 각도 합)
```

### 1.5 극점과 영점

#### 유한 극점과 영점
- **극점(Pole)**: 전달함수를 무한대로 만드는 s 값
- **영점(Zero)**: 전달함수를 0으로 만드는 s 값

#### 무한 극점과 영점
- **무한 극점**: s가 무한대에 접근할 때 전달함수가 무한대가 되는 경우
- **무한 영점**: s가 무한대에 접근할 때 전달함수가 0이 되는 경우

#### 중요한 속성
물리적 시스템에서 극점의 총 개수는 영점의 총 개수와 같아야 합니다(유한과 무한 모두 포함).

## 2. 근궤적 개념

근궤적은 특정 매개변수(일반적으로 이득 K)가 0에서 무한대로 변화함에 따라 폐루프 시스템 극점(근)의 경로를 보여주는 그래픽 방법입니다. 이는 이득 변화에 따른 과도 응답의 변화를 이해하는 데 도움이 됩니다.

### 2.1 제어 시스템 구조

```
R → [+] → [제어기] → [플랜트] → Y
    ↑                   |
    |                   |
    └─── [센서] ←───────┘
```

### 2.2 전달함수

**개루프 전달함수(OLTF)**:
```
L(s) = K·G(s)·H(s)
```

**폐루프 전달함수(CLTF)**:
```
T(s) = K·G(s) / [1 + K·G(s)·H(s)]
```

여기서:
- G(s)는 플랜트 전달함수
- H(s)는 센서 전달함수
- K는 제어기 이득

### 2.3 근궤적 원리

핵심 통찰은 폐루프 전달함수의 극점(특성 방정식의 근)이 K=0일 때 개루프 전달함수의 극점에서 시작하여 K가 무한대에 접근함에 따라 개루프 전달함수의 영점으로 이동한다는 것입니다.

근궤적은 다음 조건을 만족합니다:
```
1 + K·G(s)·H(s) = 0   ⟺   K·G(s)·H(s) = -1
```

이는 근궤적 상의 점이 두 가지 조건을 만족한다는 것을 의미합니다:

#### 각도 조건
```
∠K·G(s)·H(s) = 180° + 360°k   (k = 0, ±1, ±2, ...)
```
이는 점이 근궤적 상에 있는지 결정하는 데 사용됩니다.

#### 크기 조건
```
|K·G(s)·H(s)| = 1   ⟺   K = 1/|G(s)·H(s)|
```
이는 근궤적 상의 특정 점에 대한 이득 K를 찾는 데 사용됩니다.

## 3. 근궤적 그리기 규칙

다음 여섯 가지 규칙은 광범위한 계산 없이 근궤적을 스케치하기 위한 체계적인 접근 방식을 제공합니다:

### 규칙 1: 시작점과 끝점
근궤적은 개루프 전달함수의 극점(K=0)에서 시작하여 개루프 전달함수의 영점(K=∞)에서 끝납니다.

n개의 극점과 m개의 영점을 가진 시스템의 경우:
- n개의 분기가 개루프 극점에서 시작
- m개의 분기가 개루프 유한 영점에서 끝남
- (n-m)개의 분기가 무한대에서 끝남

### 규칙 2: 대칭성
근궤적은 s-평면에서 실수축에 대해 대칭입니다.

### 규칙 3: 실수축 세그먼트
실수축의 부분은 그 부분의 오른쪽에 있는 극점과 영점의 총 개수가 홀수인 경우 근궤적에 속합니다.

### 규칙 4: 점근선
K의 큰 값에 대해 무한대에 접근하는 근궤적의 분기는 점근선을 따릅니다. 이러한 점근선은 실수축 상의 중심점(centroid)에서 교차합니다:
```
σₐ = (극점 합 - 영점 합) / (극점 수 - 영점 수)
```

점근선의 각도는:
```
φₐ = (180° + 360°(k)) / (n-m)   여기서 k = 0, 1, 2, ..., (n-m-1)
```

### 규칙 5: 이탈점과 진입점
이탈점(근궤적이 실수축을 떠나는 지점)과 진입점(근궤적이 실수축으로 들어오는 지점)은 다음을 만족하는 곳에서 발생합니다:
```
dK/ds = 0
```

### 규칙 6: 이탈각과 도착각
복소 극점이나 영점의 경우, 극점에서의 이탈각이나 영점에서의 도착각은 각도 조건을 사용하여 계산할 수 있습니다.

## 4. 예시: 물체 추적 카메라

움직이는 물체를 추적하도록 설계된 카메라 시스템을 고려해 봅시다:

```
플랜트: G(s) = 1/(s(s+10))
센서: H(s) = 1
```

폐루프 전달함수는:
```
T(s) = K/(s² + 10s + K)
```

다양한 K 값에 대한 폐루프 시스템의 극점은:

| K | 극점 1 | 극점 2 |
|---|--------|--------|
| 0 | -10 | 0 |
| 5 | -9.47 | -0.53 |
| 10 | -8.87 | -1.13 |
| 15 | -8.16 | -1.84 |
| 20 | -7.24 | -2.76 |
| 25 | -5 | -5 |
| 30 | -5+j2.24 | -5-j2.24 |
| ... | ... | ... |

이는 K가 증가함에 따라:
1. 극점이 개루프 극점(-10과 0)에서 시작
2. 실수축을 따라 서로를 향해 이동
3. K=25에서 만남(s=-5에서)
4. 그런 다음 실수축에서 이탈하여 복소 공액 쌍을 형성
5. K가 계속 증가함에 따라 점근선을 따라 무한대로 이동

## 5. 실제 응용

### 5.1 시스템 안정성 분석

근궤적을 통해 시스템이 안정적으로 유지되는 이득 K의 범위를 결정할 수 있습니다. 모든 폐루프 극점이 s-평면의 왼쪽 반면에 있을 때 시스템은 안정적입니다.

### 5.2 성능 튜닝

근궤적의 특정 지점을 선택하여 원하는 과도 응답 특성을 달성할 수 있습니다:
- 감쇠비(ζ): 오버슈트를 결정
- 자연 주파수(ωn): 응답 속도를 결정
- 정착 시간: 극점의 실수부와 관련
- 상승 시간: 극점의 허수부와 관련

### 5.3 제어기 설계

근궤적은 극점과 영점을 추가하여 근궤적 형태를 어떻게 수정하는지 보여줌으로써 보상기(리드, 래그 또는 PID 제어기 등) 설계를 안내할 수 있습니다.

## 6. 고급 근궤적 기법

### 6.1 이득 이외의 매개변수

일반적으로 이득 K를 변화시키지만, 근궤적은 시스템의 어떤 매개변수의 영향을 분석하는 데도 사용할 수 있습니다.

### 6.2 음수 이득 근궤적

"음수 이득 근궤적"이라는 보완적 기법은 K의 음수 값에 대한 시스템 동작을 분석합니다.

### 6.3 시간 지연이 있는 근궤적

시간 지연이 있는 시스템의 경우, 특성 방정식에 e^(-Ts)와 같은 항이 포함되어 수정된 기법이 필요합니다.

## 7. 다른 제어 방법과의 연결

### 7.1 주파수 응답 방법

근궤적은 보드 선도 및 나이퀴스트 선도와 같은 주파수 영역 방법을 보완하여 s-평면에서 정보를 제공합니다.

### 7.2 상태 공간 방법

현대 제어 이론에서 근궤적은 상태 피드백을 통해 시스템 행렬의 고유값을 배치하는 데 도움이 됩니다.

## 8. 디지털 구현

이산 시간 시스템의 경우, 근궤적은 s-평면이 아닌 z-평면에 그려지며, 안정성 영역은 단위 원 내부입니다.

## 9. 제어 시스템 설계 예시

### 9.1 서보 모터 제어

서보 모터의 속도를 제어하는 시스템을 고려해봅시다. 모터의 전달함수가 다음과 같다고 가정합니다:

```
G(s) = K / (s(s+5))
```

근궤적 분석을 통해 시스템의 응답 특성을 향상시킬 수 있는 적절한 이득 K를 선택할 수 있습니다. 예를 들어, K=25일 때 시스템은 임계 감쇠(critical damping) 상태가 되어 오버슈트 없이 최적의 응답을 제공합니다.

### 9.2 PID 제어기 설계

온도 제어 시스템에 PID 제어기를 설계하는 경우, 근궤적을 사용하여 제어기 매개변수를 조정할 수 있습니다:

```
G(s) = K(s + z₁)(s + z₂) / [s(s + p₁)]
```

여기서 z₁과 z₂는 PID 제어기에 의해 추가된 영점입니다. 이러한 영점의 위치를 조정함으로써 폐루프 시스템의 극점을 원하는 위치로 이동시킬 수 있습니다.

## 10. 근궤적에 대한 추가 고려사항

### 10.1 비선형 시스템

근궤적 분석은 선형 시스템에 적용되지만, 일부 비선형 시스템은 특정 작동점 주변에서 선형화하여 분석할 수 있습니다.

### 10.2 다입력 다출력(MIMO) 시스템

복잡한 MIMO 시스템의 경우, 특성방정식의 행렬식을 사용하여 근궤적을 확장할 수 있습니다.

### 10.3 실제 시스템의 불확실성

실제 시스템에서는 모델링 불확실성이 존재합니다. 근궤적은 이러한 불확실성의 영향을 분석하고 강건한 제어 시스템을 설계하는 데 도움을 줄 수 있습니다.