# 동적 응답의 기초 (Basic of Dynamic Response)

## 1. 기본 개념 복습

### 1.1 동적 응답(Dynamic Response)의 정의

동적 응답은 시간에 따라 입력이 변할 때 시스템의 출력 응답/반응을 의미합니다. 이는 정적 응답(Static Response)과 대비되는 개념으로, 정적 응답은 시간에 따라 입력이 변하지 않을 때의 출력 응답/반응을 의미합니다.

### 1.2 동적 응답 해석의 중요성

제어 시스템을 설계할 때, 시도된 설계가 원하는 성능과 얼마나 잘 일치하는지 확인하는 것이 필수적입니다. 따라서 동적 응답 해석은 제어 공학에서 매우 중요한 부분을 차지합니다.

### 1.3 동적 응답 해석 방법

동적 응답을 해석하는 주요 방법은 다음과 같습니다:
1. s-평면법 (5단원)
2. 주파수 응답법 (6단원)
3. 상태공간법 (7단원)

이 문서(3단원)에서는 위의 방법을 연구하기 전 필요한 기본적인 개념을 논의합니다.

### 1.4 LTI(Linear Time Invariant) 시스템

LTI 시스템은 선형 시불변 시스템으로, 다음 두 가지 특성을 가집니다:

1. **선형성(Linearity)**: 선형 시스템의 응답은 중첩(Superposition)의 원리를 따릅니다.
2. **시불변성(Time Invariance)**: 입력이 시간적으로 지연되면, 출력도 정확히 같은 양만큼 지연됩니다.

#### 중첩의 원리(Principle of Superposition)
시스템이 신호들의 합으로 표현될 수 있는 입력을 가지고 있으면, 시스템의 응답(response) 또한 각 신호들의 개별적인 응답의 합으로 표현할 수 있습니다.

#### 예제: 1차 선형 미분방정식
다음 미분방정식을 고려해 봅시다:
```
ẏ + ky = u
```

이 시스템이 LTI 시스템인지 확인해 보겠습니다.

1. 선형성 검증:
   - 입력 u₁에 대한 출력을 y₁이라 하고, 입력 u₂에 대한 출력을 y₂라고 합시다.
   - 입력 u = a₁u₁ + a₂u₂에 대한 출력을 y라고 할 때:
   ```
   ẏ + ky = a₁u₁ + a₂u₂
   ```
   - 이는 다음과 같이 표현할 수 있습니다:
   ```
   a₁ẏ₁ + a₂ẏ₂ + k(a₁y₁ + a₂y₂) = a₁u₁ + a₂u₂
   a₁(ẏ₁ + ky₁ - u₁) + a₂(ẏ₂ + ky₂ - u₂) = 0
   ```
   - y₁과 y₂가 각각 u₁과 u₂에 대한 해이므로, 위의 식은 0이 됩니다.
   - 따라서 시스템은 선형입니다.

2. 시불변성 검증:
   - 입력 u₁(t)에 대한 출력이 y₁(t)일 때, 입력 u₂(t) = u₁(t-τ)에 대한 출력이 y₂(t) = y₁(t-τ)인지 확인합니다.
   - y₂(t) = y₁(t-τ)를 원래 방정식에 대입:
   ```
   dy₁(t-τ)/dt + ky₁(t-τ) = u₁(t-τ)
   ```
   - 변수 변환 t-τ = η를 하면:
   ```
   dy₁(η)/dη + ky₁(η) = u₁(η)
   ```
   - 이는 원래 방정식과 동일한 형태이므로, 시스템은 시불변입니다.

따라서, 이 미분방정식으로 표현된 시스템은 LTI 시스템입니다.

## 2. 시간 영역에서의 컨볼루션(Convolution in Time Domain)

### 2.1 동적 응답과 컨볼루션의 관계

주어진 신호를 기본적인 요소들의 합으로 분해하고 중첩하게 되면, 일반 신호에 대한 응답은 기본적인 신호의 합으로 나타낼 수 있습니다. 이 때문에 일반 입력 신호에 대한 응답을 쉽게 구할 수 있습니다.

### 2.2 컨볼루션 접근법

1. **직사각형 펄스(Rectangular Pulse) 분석**
   - 직사각형 펄스를 기본 요소 신호로 선택:
   ```
   p_Δ(t) = { 1/Δ, 0 ≤ t ≤ Δ
             { 0,   otherwise
   ```

2. **기본 요소 신호에 대한 응답 관찰**
   - 기본 요소 신호를 시스템에 입력하여 응답 h(t)를 구합니다.

3. **시간 지연된 응답 계산**
   - 기본 요소 신호를 시간 지연시켜 시스템에 입력합니다.
   - LTI 시스템에서는 입력이 p_Δ(t-τ)일 때, 출력은 h(t-τ)가 됩니다.

4. **중첩을 통한 복합 응답 계산**
   - 여러 지연된 신호의 합에 대한 응답은 각 응답의 합으로 표현됩니다.
   - p_Δ(t) + p_Δ(t-τ)의 응답은 h(t) + h(t-τ)입니다.

5. **임의의 입력 신호 표현**
   - 임의의 입력 신호 u(t)를 펄스의 연속으로 근사화할 수 있습니다:
   ```
   u(t) = Σ u(kΔ)p_Δ(t-kΔ)
   ```
   - 여기서 u(kΔ)는 시간 kΔ에서의 신호 값입니다.

6. **신호 일반화**
   - 전체 시간에 대한 응답을 펄스 입력들에 대한 응답으로 표현:
   ```
   y(t) = Σ u(kΔ)h(t-kΔ)
   ```

7. **Δ→0 극한으로 적분 형태 도출**
   - Δ가 0에 가까워지면, 펄스는 임펄스(Dirac delta) 함수에 근접:
   ```
   lim Δ→0 p_Δ(t) = δ(t)
   ```
   - 따라서 응답은 적분 형태로 표현됩니다:
   ```
   y(t) = ∫ u(τ)h(t-τ)dτ
   ```

### 2.3 임펄스 응답(Impulse Response)

임펄스 응답은 임펄스 신호가 입력으로 들어갔을 때의 시스템 응답을 의미합니다:
```
lim Δ→0 h_Δ(t) = h(t)
```

**중요**: 임의의 입력에 대한 응답(response)을 발견하기 위해서는 임펄스 응답만 알면 됩니다. 이를 컨볼루션 적분으로 표현하면:
```
y(t) = ∫ u(τ)h(t-τ)dτ
```

## 3. 라플라스 변환(Laplace Transform)

### 3.1 라플라스 변환과 동적 응답

시스템의 입력을 복소지수 형태 e^(st)로 넣으면, 시스템의 응답은 H(s)e^(st) 형태로 나타납니다. 이는 시스템의 임펄스 응답과 입력을 곱해진 형태입니다.

### 3.2 라플라스 변환과 컨볼루션의 관계

컨볼루션의 입력을 복소지수 형태(e^(st))로 넣는 것이 라플라스 변환입니다:
```
H(s) = ∫ h(τ)e^(-sτ)dτ
F(s) = ∫ f(t)e^(-st)dt
```

따라서, 시간 영역에서의 컨볼루션은 라플라스 영역에서의 곱셈으로 변환됩니다:
```
y(t) = ∫ u(τ)h(t-τ)dτ ⟺ Y(s) = U(s)H(s)
```

### 3.3 극점(Pole)과 영점(Zero)

시스템의 응답을 해석할 때, 전달함수 H(s)의 특성이 중요합니다. 이를 극점과 영점으로 분석할 수 있습니다.

전달함수는 다음과 같이 표현할 수 있습니다:
```
H(s) = Y(s)/U(s) = N(s)/D(s) = (b₁s^m + b₂s^(m-1) + ... + b_(m+1)) / (a₁s^n + a₂s^(n-1) + ... + a_(n+1))
     = K ∏(s-z_i) / ∏(s-p_j)
```

여기서:
- N(s): 분자 다항식
- D(s): 분모 다항식
- z_i: 영점
- p_j: 극점

#### 영점(Zero)
영점은 전달함수 H(s)를 0으로 만드는 s 값입니다. 만약 s = z_i이면:
```
H(s)|_(s=z_i) = 0
```

영점은 신호 전달을 막는 특성을 가지며, 특히 영점 위치에 해당하는 주파수를 봉쇄하는 특성을 가집니다. 또한 과도 응답(Transient Response)에 중요한 영향을 미칩니다.

#### 극점(Pole)
극점은 전달함수 H(s)를 무한대로 만드는 s 값입니다. 만약 s = p_j이면:
```
H(s)|_(s=p_j) = ∞
```

극점은 시스템의 안정성을 결정하는 중요한 요소입니다:
- 모든 극점이 s-평면의 왼쪽 반면(Left Half Plane, LHP)에 있으면 시스템은 안정합니다.
- 하나라도 오른쪽 반면(Right Half Plane, RHP)에 있으면 시스템은 불안정합니다.

### 3.4 부분 분수 전개(Partial Fraction Expansion)

라플라스 역변환을 구하기 위해 전달함수를 부분 분수로 전개할 수 있습니다.

#### 예제: 부분 분수 전개
```
H(s) = (s+2)(s+4) / (s(s+1)(s+3))
```

영점과 극점을 찾아봅시다:
- 영점: -2, -4
- 극점: 0, -1, -3

부분 분수 전개 형태:
```
H(s) = c₁/s + c₂/(s+1) + c₃/(s+3)
```

커버업 메소드(Cover-up Method)를 사용하여 계수를 구합니다:
```
c₁ = [(s+2)(s+4) / ((s+1)(s+3))]|_(s=0) = 8/3
c₂ = [(s+2)(s+4) / (s(s+3))]|_(s=-1) = -3/2
c₃ = [(s+2)(s+4) / (s(s+1))]|_(s=-3) = -1/6
```

따라서:
```
H(s) = 8/3·(1/s) - 3/2·(1/(s+1)) - 1/6·(1/(s+3))
```

역라플라스 변환하면:
```
h(t) = (8/3 - 3/2·e^(-t) - 1/6·e^(-3t))·u(t)
```

여기서 u(t)는 단위 계단 함수(Unit Step Function)입니다.

## 4. 최종값 정리(Final Value Theorem, FVT)

### 4.1 FVT의 정의와 응용

시스템 분석 및 제어에서 첫 번째로 확인해야 할 것은 안정성(Stability)입니다. 시간이 무한으로 흘렀을 때 응답이 발산하지 않고 수렴했으면 좋겠고, 어디로 수렴하는지도 알고 싶습니다.

**최종값 정리(FVT)**의 활용 조건과 식은 다음과 같습니다:
- 모든 극점이 s-평면의 왼쪽 반면(LHP)에 있어야 합니다.
- 그러면 시간이 무한으로 흘렀을 때의 값을 다음 식으로 구할 수 있습니다:
```
lim_(t→∞) y(t) = lim_(s→0) s·Y(s)
```

#### 예제 1: FVT 적용
```
Y(s) = 2(s+2) / (s(s²+2s+10))
```

최종값을 구해봅시다:
```
y(∞) = s·Y(s)|_(s=0) = 2·2/10 = 0.4
```

#### 예제 2: FVT 적용 불가
```
Y(s) = 3 / (s²+2s)
```

이 경우, s = 0에서 극점이 중근(double root)으로 있어 불안정합니다. 따라서 FVT를 적용할 수 없습니다.

역라플라스 변환하여 확인해 보면:
```
y(t) = (-3/2 + 3/2·e^(-2t))·u(t)
```

이 함수는 t → ∞일 때 y(∞) = -3/2로 수렴해야 하지만, 실제로는 y(∞) = ∞로 발산합니다. 이는 FVT의 조건(모든 극점이 LHP에 있어야 함)을 만족하지 않기 때문입니다.

## 5. 추가 개념: 시스템 응답 특성

### 5.1 시스템 응답의 분류

시스템 응답은 크게 두 부분으로 나눌 수 있습니다:

1. **과도 응답(Transient Response)**
   - 초기 조건이나 입력 변화에 대한 초기 반응
   - 시간이 지남에 따라 사라짐
   - 극점의 위치에 의해 결정됨

2. **정상 상태 응답(Steady-state Response)**
   - 시간이 충분히 지난 후의 응답
   - 시스템의 장기적 동작 특성
   - 입력 신호의 종류에 따라 달라짐

### 5.2 시간 응답 분석 파라미터

시스템의 시간 응답을 분석할 때 주로 사용되는 파라미터들:

1. **상승 시간(Rise Time, Tr)**
   - 출력이 최종값의 10%에서 90%까지 도달하는 데 걸리는 시간

2. **정착 시간(Settling Time, Ts)**
   - 출력이 최종값의 ±2% 또는 ±5% 범위 내에 영구적으로 머무르는 데 걸리는 시간

3. **최대 오버슈트(Maximum Overshoot, Mp)**
   - 응답이 최종값을 초과하는 최대량
   - 보통 최종값의 백분율로 표현: Mp = (y_peak - y_final)/y_final × 100%

4. **상승 비(Rise Ratio)**
   - 10%에서 90%까지의 상승 시간과 0%에서 100%까지의 상승 시간의 비율

### 5.3 대표적인 2차 시스템의 응답

대표적인 2차 시스템의 표준 형태:
```
G(s) = ω_n² / (s² + 2ζω_n·s + ω_n²)
```

여기서:
- ω_n: 고유 주파수(Natural Frequency)
- ζ: 감쇠비(Damping Ratio)

감쇠비에 따른 시스템 응답 특성:

1. **과감쇠(Overdamped, ζ > 1)**
   - 극점이 실수축에 위치
   - 오버슈트 없이 천천히 정상 상태에 접근

2. **임계 감쇠(Critically Damped, ζ = 1)**
   - 극점이 실수축에 중근으로 위치
   - 오버슈트 없이 가장 빠르게 정상 상태에 접근

3. **부족 감쇠(Underdamped, 0 < ζ < 1)**
   - 복소 극점 쌍을 가짐
   - 진동하며 정상 상태에 접근
   - 감쇠비가 작을수록 진동이 더 심함

4. **비감쇠(Undamped, ζ = 0)**
   - 순수 허수 극점 쌍을 가짐
   - 영원히 진동함

### 5.4 시스템 안정성 분석

시스템 안정성은 모든 제어 시스템의 기본 요구사항입니다. 안정성 분석 방법에는 다양한 접근법이 있습니다:

1. **극점 위치에 기반한 안정성 분석**
   - 모든 극점이 s-평면의 왼쪽에 있으면 안정함(BIBO 안정성)
   - 하나라도 오른쪽에 있으면 불안정함
   - 허수축에 극점이 있다면, 그 극점이 중근이 아니면 한계 안정(Marginally Stable)

2. **라우스-후르비츠 안정성 판별법(Routh-Hurwitz Stability Criterion)**
   - 특성 방정식의 계수를 사용하여 안정성을 판별하는 대수적 방법
   - 극점의 위치를 직접 구하지 않고도 안정성 판별 가능

3. **나이퀴스트 안정성 판별법(Nyquist Stability Criterion)**
   - 주파수 응답에 기반한 안정성 분석 방법
   - 개루프 전달함수를 이용하여 폐루프 시스템의 안정성 판별 가능

## 6. 실생활 예시

### 6.1 자동차 서스펜션 시스템

자동차 서스펜션 시스템은 2차 시스템으로 모델링할 수 있습니다:
```
G(s) = 1 / (ms² + bs + k)
```
여기서:
- m: 차체 질량
- b: 댐퍼 계수
- k: 스프링 상수

도로의 불규칙성(범프 등)이 입력으로 작용하고, 차체의 수직 운동이 출력으로 나타납니다. 서스펜션 설계의 목표는 승차감(부족 감쇠 특성)과 핸들링(임계 감쇠 특성) 사이의 균형을 맞추는 것입니다.

### 6.2 열 제어 시스템

건물의 온도 제어 시스템은 다음과 같이 모델링할 수 있습니다:
```
G(s) = K / (τs + 1)
```
여기서:
- K: 이득
- τ: 시간 상수

열 시스템은 일반적으로 1차 시스템의 특성을 보이며, 시간 상수가 클수록 느리게 응답합니다. 외부 온도 변화, 내부 열 발생 등이 외란으로 작용하며, 이에 대한 보상이 제어 시스템의 핵심입니다.

### 6.3 전기 모터 속도 제어

DC 모터의 속도 제어 시스템은 다음과 같이 모델링할 수 있습니다:
```
G(s) = K / (τₑτₘs² + τₘs + 1)
```
여기서:
- K: 모터 이득
- τₑ: 전기적 시간 상수
- τₘ: 기계적 시간 상수

모터의 응답 특성은 부하 조건, 마찰, 관성 등에 따라 달라집니다. 이 시스템의 극점 위치를 적절히 조절하여 원하는 속도 응답 특성을 얻을 수 있습니다.

## 7. 결론

동적 응답의 이해는 제어 시스템 설계의 핵심입니다. 시간 영역에서의 컨볼루션과 라플라스 변환은 시스템 응답을 분석하는 강력한 도구이며, 극점과 영점의 개념은 시스템의 동특성을 이해하는 데 필수적입니다.

다음 장에서는 이러한 기본 개념을 바탕으로 더 복잡한 제어 시스템 분석 방법인 s-평면법, 주파수 응답법, 상태공간법에 대해 살펴볼 것입니다.